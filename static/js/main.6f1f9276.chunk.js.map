{"version":3,"sources":["components/Input.js","App.js","index.js"],"names":["InputMui","number","handelChange","label","errAlert","msgCode","inputRef","inputProps","maxLength","value","Typography","component","TextField","type","onChange","placeholder","variant","fullWidth","margin","error","helperText","App","useState","setNumber","setErrAlert","setMsgCode","useRef","useEffect","current","focus","clearInput","Box","Container","maxWidth","Grid","container","spacing","Paper","style","width","padding","item","xs","sm","md","onSubmit","e","preventDefault","fullNr","split","fnrForK1","slice","kntrSiffer","parseInt","join","k1_k2","k1_sjekNum","k2_sjekNum","k1","reduce","acc","val","idx","push","k2","toString","k1k2","length","match","setTimeout","inputValidator","Input","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f1f9276.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst InputMui = ({\r\n  number,\r\n  handelChange,\r\n  label,\r\n  errAlert,\r\n  msgCode,\r\n  inputRef,\r\n}) => {\r\n  const errMsg = [\r\n    \"Fødselsnummer er godkjent.\",\r\n    \"Fødselsnummer mangler siffer.\",\r\n    \"Feil fødselsnummer.\",\r\n  ];\r\n  const inputProps = {\r\n    maxLength: 11,\r\n    value: number,\r\n  };\r\n  return (\r\n    <>\r\n      <Typography component=\"label\">{label}:</Typography>\r\n      <TextField\r\n        inputRef={inputRef}\r\n        type=\"text\"\r\n        inputProps={inputProps}\r\n        onChange={handelChange}\r\n        placeholder=\"(11 siffer)\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        margin=\"dense\"\r\n        error={errAlert}\r\n        helperText={errMsg[msgCode]}\r\n      />\r\n    </>\r\n  );\r\n};\r\nInputMui.propTypes = {\r\n  //a number from input\r\n  number: PropTypes.string,\r\n  //function to track changes on input\r\n  handelChange: PropTypes.func,\r\n  //input label\r\n  label: PropTypes.string,\r\n  //sets error UI\r\n  errAlert: PropTypes.bool,\r\n  //code for message\r\n  msgCode: PropTypes.number,\r\n  //ref for input\r\n  inputRef: PropTypes.object,\r\n};\r\nexport default InputMui;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport Input from \"./components/Input\";\r\n\r\nfunction App() {\r\n  const [number, setNumber] = useState(\"\");\r\n  const [errAlert, setErrAlert] = useState(false);\r\n  const [msgCode, setMsgCode] = useState(null);\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n  }, []);\r\n\r\n  const inputValidator = (number) => {\r\n    const onlyNum = /^[0-9]+$/;\r\n\r\n    const fullNr = number.split(\"\");\r\n    // fnrForK1 - fødselsnummer without 2 last numbers for calculation k1-kontrolsiffer\r\n    const fnrForK1 = fullNr.slice(0, 9);\r\n    // kntrSiffer - kontrollsifferet two last numbers of fødselsnummer\r\n    const kntrSiffer = parseInt(fullNr.slice(9, 12).join(\"\"));\r\n    //k1_k2 - container for caltulated kontrollsiffer\r\n    const k1_k2 = [];\r\n    //special numbers for multiplication\r\n    const k1_sjekNum = [3, 7, 6, 1, 8, 9, 4, 5, 2];\r\n    const k2_sjekNum = [5, 4, 3, 2, 7, 6, 5, 4, 3, 2];\r\n    //k1 - the first kontrollsifferet\r\n    const k1 =\r\n      11 -\r\n      (fnrForK1\r\n        .reduce((acc, val, idx) => {\r\n          acc[idx] = val * k1_sjekNum[idx];\r\n          return acc;\r\n        }, k1_sjekNum)\r\n        .reduce((acc, value) => acc + value) %\r\n        11);\r\n    // kontrolsiffer can't be 11\r\n    k1 !== 11 ? k1_k2.push(k1) : k1_k2.push(0);\r\n    // fnrForK2 - fødselsnummer without 2 last numbers plus k1 for calculation k2-kontrolsiffer\r\n    const fnrForK2 = [...fnrForK1, k1.toString()];\r\n    //k1 - the first kontrollsifferet\r\n    const k2 =\r\n      11 -\r\n      (fnrForK2\r\n        .reduce((acc, val, idx) => {\r\n          acc[idx] = val * k2_sjekNum[idx];\r\n          return acc;\r\n        }, k1_sjekNum)\r\n        .reduce((acc, value) => acc + value) %\r\n        11);\r\n    // kontrolsiffer can't be 11\r\n    k2 !== 11 ? k1_k2.push(k2) : k1_k2.push(0);\r\n\r\n    const k1k2 = parseInt(k1_k2.join(\"\"));\r\n\r\n    return number.length !== 11\r\n      ? setErrAlert(true) || setMsgCode(1)\r\n      : !number.match(onlyNum)\r\n      ? setErrAlert(true) || setMsgCode(2)\r\n      : k1k2 !== kntrSiffer\r\n      ? setErrAlert(true) || setMsgCode(2)\r\n      : setMsgCode(0) ||\r\n        setNumber(\"\") ||\r\n        setErrAlert(false) ||\r\n        clearInput() ||\r\n        setTimeout(() => {\r\n          setMsgCode(null);\r\n        }, 3000);\r\n  };\r\n\r\n  const onInputChange = (e) => {\r\n    setNumber(e.target.value);\r\n\r\n    return e.target.value.length === 0\r\n      ? setErrAlert(false) || setMsgCode(null)\r\n      : null;\r\n  };\r\n  const clearInput = () => {\r\n    inputRef.current.value = \"\";\r\n  };\r\n  const handelFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    inputValidator(number);\r\n  };\r\n\r\n  return (\r\n    <Box component=\"div\">\r\n      <Container maxWidth=\"sm\">\r\n        <Grid container spacing={1}>\r\n          <Paper\r\n            variant=\"outlined\"\r\n            style={{ width: \"100%\", margin: 10, padding: 10 }}\r\n          >\r\n            <Grid item xs={12} sm={12} md={12}>\r\n              <form onSubmit={handelFormSubmit}>\r\n                <Input\r\n                  inputRef={inputRef}\r\n                  label=\"FØDSELSNUMMER\"\r\n                  handelChange={onInputChange}\r\n                  errAlert={errAlert}\r\n                  msgCode={msgCode}\r\n                />\r\n              </form>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n      </Container>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}